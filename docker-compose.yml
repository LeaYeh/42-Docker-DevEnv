services:
  run-container:
    container_name: 42-Docker-DevEnv
    build:
      dockerfile: Dockerfile
      args:
        USER: devcontainer
        WORKSPACE_FOLDER: /workspaces
        WORKSPACE_NAME: ${COMPOSE_PROJECT_NAME:-$(basename $PWD)}
    volumes:
      - .:/workspaces/${COMPOSE_PROJECT_NAME:-$(basename $PWD)}
      - ${HOME}/.ssh:/home/devcontainer/.ssh:cached,readonly
      - ${HOME}/.gitconfig:/home/devcontainer/.gitconfig:cached
      # Comment in to load .zshrc from your local environment
      # - ${HOME}/.zshrc:/home/devcontainer/.zshrc:cached
    stdin_open: true
    tty: true
